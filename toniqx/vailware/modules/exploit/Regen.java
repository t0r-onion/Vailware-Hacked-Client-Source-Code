package toniqx.vailware.modules.exploit;

import org.lwjgl.input.Keyboard;

import net.minecraft.block.material.Material;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.potion.Potion;
import net.minecraft.potion.PotionEffect;
import toniqx.vailware.main.event.Event;
import toniqx.vailware.main.event.listeners.EventUpdate;
import toniqx.vailware.main.event.process.EventPacket;
import toniqx.vailware.main.util.impl.server.PacketUtil;
import toniqx.vailware.modules.Module;
import toniqx.vailware.modules.Module.Category;

public class Regen extends Module {

	public Regen(){
		super("Regen", "", Keyboard.KEY_NONE, Category.EXPLOIT);
	}
	
    public void onEvent(Event e) {
		if (e instanceof EventUpdate && e.isPre()) {
            double health = 20;
            if (mc.thePlayer.getHealth() < health * 2 && mc.thePlayer.getFoodStats().getFoodLevel() > 16 && !mc.thePlayer.isUsingItem() && mc.thePlayer.isCollidedVertically && !mc.gameSettings.keyBindJump.isPressed() && (!mc.thePlayer.isInsideOfMaterial(Material.lava)) && !mc.thePlayer.isInWater()) {
                for (int i = 0; i < 40; i++) {
                	PacketUtil.sendPacketNoEvent(new C03PacketPlayer());
                }
            }
        }
    }
}